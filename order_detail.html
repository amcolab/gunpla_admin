<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ³¨æ–‡è©³ç´° - Order Detail</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', Meiryo, sans-serif;
            background: #e8e8e8;
            color: #333;
            font-size: 13px;
        }

        /* Kintone Header */
        .kintone-header {
            background: linear-gradient(to bottom, #9b59b6 0%, #8e44ad 100%);
            height: 48px;
            display: flex;
            align-items: center;
            padding: 0 16px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        }

        .app-icon-circle {
            width: 32px;
            height: 32px;
            background: white;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 12px;
            font-size: 18px;
        }

        .app-title-header {
            color: white;
            font-size: 16px;
            font-weight: 500;
        }

        /* Secondary Nav */
        .secondary-nav {
            background: #e8e8e8;
            height: 44px;
            display: flex;
            align-items: center;
            padding: 0 16px;
            border-bottom: 1px solid #d0d0d0;
        }

        .nav-icon {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border-radius: 3px;
            margin-right: 12px;
            color: #666;
        }

        .nav-icon:hover {
            background: #d8d8d8;
        }

        .breadcrumb-text {
            font-size: 12px;
            color: #666;
            flex: 1;
        }

        .breadcrumb-text a {
            color: #3498db;
            text-decoration: none;
        }

        /* Detail Header */
        .detail-header {
            background: white;
            padding: 20px 24px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .detail-title {
            font-size: 20px;
            font-weight: 600;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 12px;
        }

        .status-partial {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-shipped {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        /* Detail Body */
        .detail-body {
            padding: 20px 24px;
        }

        .detail-section {
            background: white;
            border-radius: 4px;
            margin-bottom: 16px;
            overflow: hidden;
        }

        .section-header {
            background: #f8f8f8;
            padding: 12px 20px;
            border-bottom: 1px solid #e0e0e0;
            font-weight: 600;
            font-size: 14px;
        }

        .section-content {
            padding: 20px;
        }

        /* Field Row */
        .field-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-bottom: 16px;
        }

        .field-item {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .field-label {
            font-size: 12px;
            color: #666;
            font-weight: 600;
        }

        .field-value {
            font-size: 13px;
            color: #333;
            padding: 8px 12px;
            background: #f5f5f5;
            border-radius: 3px;
        }

        /* Form Input */
        .form-input {
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 13px;
            font-family: inherit;
        }

        .form-input:focus {
            outline: none;
            border-color: #3498db;
        }

        /* Products Table */
        .products-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 12px;
        }

        .products-table th {
            background: #f8f8f8;
            padding: 12px;
            text-align: left;
            font-size: 12px;
            font-weight: 600;
            border-bottom: 2px solid #e0e0e0;
            white-space: nowrap;
        }

        .products-table td {
            padding: 12px;
            border-bottom: 1px solid #f0f0f0;
            font-size: 13px;
        }

        .products-table tbody tr:hover {
            background: #f9f9f9;
        }

        .qty-input {
            width: 70px;
            padding: 6px 8px;
            border: 1px solid #ccc;
            border-radius: 3px;
            text-align: center;
            font-size: 13px;
        }

        .qty-display {
            text-align: center;
            font-weight: 600;
        }

        /* Status Tag */
        .delivery-status {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 11px;
            font-weight: 600;
        }

        .status-complete {
            background: #d4edda;
            color: #155724;
        }

        .status-part {
            background: #d1ecf1;
            color: #0c5460;
        }

        .status-wait {
            background: #fff3cd;
            color: #856404;
        }

        /* Buttons */
        .btn {
            padding: 8px 16px;
            border: 1px solid #ccc;
            background: white;
            border-radius: 3px;
            font-size: 13px;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
            font-family: inherit;
        }

        .btn:hover {
            background: #f5f5f5;
        }

        .btn-primary {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }

        .btn-primary:hover {
            background: #2980b9;
        }

        .btn-success {
            background: #27ae60;
            color: white;
            border-color: #27ae60;
        }

        .btn-sm {
            padding: 5px 12px;
            font-size: 12px;
        }

        /* Shipping Info List */
        .shipping-list {
            list-style: none;
        }

        .shipping-item {
            padding: 12px;
            background: #f8f9fa;
            border-radius: 4px;
            margin-bottom: 12px;
            border-left: 4px solid #3498db;
        }

        .shipping-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .shipping-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            font-size: 12px;
        }

        .detail-label {
            color: #666;
            font-weight: 600;
        }

        .tracking-number {
            font-family: 'Courier New', monospace;
            background: white;
            padding: 4px 8px;
            border-radius: 3px;
            display: inline-block;
        }

        /* Return Form */
        .return-form {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 4px;
            padding: 16px;
            margin-top: 12px;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 12px;
        }

        .form-field {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .form-select,
        .form-textarea {
            padding: 8px 12px;
            border: 1px solid #ccc;
            border-radius: 3px;
            font-size: 13px;
            font-family: inherit;
        }

        .form-textarea {
            resize: vertical;
            min-height: 60px;
        }

        /* Alert */
        .alert {
            padding: 12px 16px;
            border-radius: 4px;
            margin-bottom: 16px;
            font-size: 13px;
        }

        .alert-info {
            background: #e3f2fd;
            border-left: 4px solid #3498db;
            color: #1976d2;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .field-grid {
                grid-template-columns: 1fr;
            }

            .shipping-details {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .products-table {
                font-size: 12px;
            }

            .products-table th,
            .products-table td {
                padding: 8px;
            }
        }
    </style>
</head>

<body>
    <!-- Kintone Header -->
    <div class="kintone-header">
        <div class="app-icon-circle">ğŸ›’</div>
        <div class="app-title-header">æ³¨æ–‡ç®¡ç†</div>
    </div>

    <!-- Secondary Nav -->
    <div class="secondary-nav">
        <div class="nav-icon" onclick="goBack()">â†</div>
        <span class="breadcrumb-text">
            <a href="#" onclick="goBack(); return false;">æ³¨æ–‡ç®¡ç†</a> > ORD-2025-1101
        </span>
    </div>

    <!-- Detail Header -->
    <div class="detail-header">
        <div>
            <span class="detail-title">æ³¨æ–‡è©³ç´°: ORD-2025-1101</span>
            <span class="status-badge status-partial">ä¸€éƒ¨å‡ºè·æ¸ˆ</span>
        </div>
        <button class="btn" onclick="editOrder()">âœï¸ ç·¨é›†</button>
    </div>

    <!-- Detail Body -->
    <div class="detail-body">

        <!-- Alert -->
        <div class="alert alert-info">
            <strong>â„¹ï¸ ã“ã®ç”»é¢ã§ã§ãã‚‹ã“ã¨:</strong>
            æ³¨æ–‡å†…å®¹ã®ç¢ºèª | å‡ºè·å‡¦ç†ï¼ˆéƒ¨åˆ†å‡ºè·å¯¾å¿œï¼‰ | è¿”å“ç™»éŒ² | é…é€çŠ¶æ³ç¢ºèª
        </div>

        <!-- 1. åŸºæœ¬æƒ…å ± -->
        <div class="detail-section">
            <div class="section-header">ğŸ“‹ åŸºæœ¬æƒ…å ±</div>
            <div class="section-content">
                <div class="field-grid">
                    <div class="field-item">
                        <div class="field-label">æ³¨æ–‡ç•ªå·</div>
                        <div class="field-value">ORD-2025-1101</div>
                    </div>
                    <div class="field-item">
                        <div class="field-label">æ³¨æ–‡æ—¥</div>
                        <div class="field-value">2025-11-01</div>
                    </div>
                    <div class="field-item">
                        <div class="field-label">è²©å£²ãƒãƒ£ãƒãƒ«</div>
                        <div class="field-value">Shopify Credie</div>
                    </div>
                    <div class="field-item">
                        <div class="field-label">é¡§å®¢åŒºåˆ†</div>
                        <div class="field-value">B2C</div>
                    </div>
                    <div class="field-item">
                        <div class="field-label">å‡ºè·å€‰åº«</div>
                        <div class="field-value">å²é˜œå€‰åº«</div>
                    </div>
                    <div class="field-item">
                        <div class="field-label">åˆè¨ˆé‡‘é¡</div>
                        <div class="field-value" style="font-weight: 600; font-size: 16px;">Â¥90,000</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 2. ãŠå±Šã‘å…ˆæƒ…å ± -->
        <div class="detail-section">
            <div class="section-header">ğŸ“ ãŠå±Šã‘å…ˆæƒ…å ±</div>
            <div class="section-content">
                <div class="field-grid">
                    <div class="field-item">
                        <div class="field-label">æ°å</div>
                        <input type="text" class="form-input" value="ä½è—¤ å¥">
                    </div>
                    <div class="field-item">
                        <div class="field-label">é›»è©±ç•ªå·</div>
                        <input type="text" class="form-input" value="090-1234-5678">
                    </div>
                    <div class="field-item">
                        <div class="field-label">ãƒ¡ãƒ¼ãƒ«</div>
                        <input type="text" class="form-input" value="sato.ken@example.com">
                    </div>
                </div>
                <div class="field-grid" style="grid-template-columns: 1fr 2fr;">
                    <div class="field-item">
                        <div class="field-label">éƒµä¾¿ç•ªå·</div>
                        <input type="text" class="form-input" value="163-8001">
                    </div>
                    <div class="field-item">
                        <div class="field-label">ä½æ‰€</div>
                        <input type="text" class="form-input" value="æ±äº¬éƒ½æ–°å®¿åŒºè¥¿æ–°å®¿1-1-1">
                    </div>
                </div>
            </div>
        </div>

        <!-- 3. å•†å“ãƒªã‚¹ãƒˆï¼ˆéƒ¨åˆ†å‡ºè·å¯¾å¿œï¼‰ -->
        <div class="detail-section">
            <div class="section-header">ğŸ“¦ å•†å“ãƒªã‚¹ãƒˆ - å‡ºè·å‡¦ç†</div>
            <div class="section-content">
                <table class="products-table">
                    <thead>
                        <tr>
                            <th>SKU</th>
                            <th>å•†å“å</th>
                            <th style="text-align: center;">æ³¨æ–‡æ•°é‡</th>
                            <th style="text-align: center;">å‡ºè·æ¸ˆæ•°é‡</th>
                            <th style="text-align: center;">è¿”å“æ•°é‡</th>
                            <th style="text-align: center;">æœªå‡ºè·æ•°é‡</th>
                            <th style="text-align: center;">ä»Šå›å‡ºè·æ•°</th>
                            <th style="text-align: center;">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                            <th>ã‚¢ã‚¯ã‚·ãƒ§ãƒ³</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Product 1 - Partially Shipped with Return -->
                        <tr>
                            <td><strong>RS001</strong></td>
                            <td>RSã‚·ãƒªãƒ¼ã‚º500mL ãƒœãƒˆãƒ«-ä¹³ç™½</td>
                            <td class="qty-display">100</td>
                            <td class="qty-display" style="color: #27ae60;">40</td>
                            <td class="qty-display" style="color: #e67e22;">10</td>
                            <td class="qty-display" style="color: #e74c3c;">60</td>
                            <td style="text-align: center;">
                                <input type="number" class="qty-input" value="0" min="0" max="60" id="ship-rs001">
                            </td>
                            <td style="text-align: center;">
                                <span class="delivery-status status-part">ä¸€éƒ¨å‡ºè·æ¸ˆ</span>
                            </td>
                            <td>
                                <button class="btn btn-primary btn-sm" onclick="shipProduct('RS001', 60)">
                                    ğŸ“¤ å‡ºè·ä¾é ¼
                                </button>
                            </td>
                        </tr>

                        <!-- Product 2 - Fully Shipped -->
                        <tr>
                            <td><strong>RS003</strong></td>
                            <td>RSã‚·ãƒªãƒ¼ã‚º500mL ä¸­æ “</td>
                            <td class="qty-display">50</td>
                            <td class="qty-display" style="color: #27ae60;">50</td>
                            <td class="qty-display" style="color: #999;">0</td>
                            <td class="qty-display" style="color: #999;">0</td>
                            <td style="text-align: center;">
                                <input type="number" class="qty-input" value="0" min="0" max="0" disabled>
                            </td>
                            <td style="text-align: center;">
                                <span class="delivery-status status-complete">å‡ºè·å®Œäº†</span>
                            </td>
                            <td>
                                <span style="color: #999; font-size: 12px;">å®Œäº†æ¸ˆã¿</span>
                            </td>
                        </tr>

                        <!-- Product 3 - Pending -->
                        <tr>
                            <td><strong>AL001</strong></td>
                            <td>AL300mL ãƒœãƒˆãƒ«</td>
                            <td class="qty-display">30</td>
                            <td class="qty-display" style="color: #999;">0</td>
                            <td class="qty-display" style="color: #999;">0</td>
                            <td class="qty-display" style="color: #e74c3c;">30</td>
                            <td style="text-align: center;">
                                <input type="number" class="qty-input" value="0" min="0" max="30" id="ship-al001">
                            </td>
                            <td style="text-align: center;">
                                <span class="delivery-status status-wait">æœªå‡ºè·</span>
                            </td>
                            <td>
                                <button class="btn btn-primary btn-sm" onclick="shipProduct('AL001', 30)">
                                    ğŸ“¤ å‡ºè·ä¾é ¼
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 4. å‡ºè·æƒ…å ±ï¼ˆShipping Infoï¼‰ -->
        <div class="detail-section">
            <div class="section-header">ğŸšš å‡ºè·æƒ…å ± - Ship&Coé€£æº</div>
            <div class="section-content">
                <ul class="shipping-list">
                    <!-- Shipment 1 -->
                    <li class="shipping-item">
                        <div class="shipping-item-header">
                            <strong>å‡ºè·ãƒãƒƒãƒ #1</strong>
                            <span class="delivery-status status-complete">é…é€æ¸ˆã¿</span>
                        </div>
                        <div style="margin-bottom: 8px; color: #666; font-size: 12px;">
                            <strong>å•†å“:</strong> RS001 (20å€‹), RS003 (50å€‹)
                        </div>
                        <div class="shipping-details">
                            <div>
                                <div class="detail-label">å‡ºè·æ—¥</div>
                                <div>2025-11-05</div>
                            </div>
                            <div>
                                <div class="detail-label">é…é€ä¼šç¤¾</div>
                                <div>ãƒ¤ãƒãƒˆé‹è¼¸</div>
                            </div>
                            <div>
                                <div class="detail-label">è¿½è·¡ç•ªå·</div>
                                <div class="tracking-number">3982-1234-5678</div>
                            </div>
                        </div>
                    </li>

                    <!-- Shipment 2 -->
                    <li class="shipping-item">
                        <div class="shipping-item-header">
                            <strong>å‡ºè·ãƒãƒƒãƒ #2</strong>
                            <span class="delivery-status status-complete">é…é€æ¸ˆã¿</span>
                        </div>
                        <div style="margin-bottom: 8px; color: #666; font-size: 12px;">
                            <strong>å•†å“:</strong> RS001 (20å€‹)
                        </div>
                        <div class="shipping-details">
                            <div>
                                <div class="detail-label">å‡ºè·æ—¥</div>
                                <div>2025-11-12</div>
                            </div>
                            <div>
                                <div class="detail-label">é…é€ä¼šç¤¾</div>
                                <div>ãƒ¤ãƒãƒˆé‹è¼¸</div>
                            </div>
                            <div>
                                <div class="detail-label">è¿½è·¡ç•ªå·</div>
                                <div class="tracking-number">3982-1234-5680</div>
                            </div>
                        </div>
                    </li>

                    <!-- Shipment 3 - Pending -->
                    <li class="shipping-item" style="border-left-color: #ffc107; background: #fff3cd;">
                        <div class="shipping-item-header">
                            <strong>å‡ºè·ãƒãƒƒãƒ #3</strong>
                            <span class="delivery-status status-wait">å‡ºè·å¾…ã¡</span>
                        </div>
                        <div style="margin-bottom: 8px; color: #856404; font-size: 12px;">
                            <strong>æœªå‡ºè·:</strong> RS001 (60å€‹), AL001 (30å€‹)
                        </div>
                        <div style="font-size: 12px; color: #856404;">
                            âš ï¸ å‡ºè·ã‚¿ã‚¹ã‚¯ä½œæˆå¾Œã€é…é€æƒ…å ±ãŒè‡ªå‹•çš„ã«è¡¨ç¤ºã•ã‚Œã¾ã™
                        </div>
                    </li>
                </ul>
            </div>
        </div>

        <!-- 5. è¿”å“ç™»éŒ²ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
        <div class="detail-section">
            <div class="section-header">â†©ï¸ è¿”å“ç™»éŒ²</div>
            <div class="section-content">
                <div style="margin-bottom: 12px; color: #666; font-size: 13px;">
                    å‡ºè·æ¸ˆã¿å•†å“ã®è¿”å“ã‚’ç™»éŒ²ã—ã¾ã™ã€‚ç™»éŒ²å¾Œã€è‡ªå‹•ã§å…¥åº«ã‚¿ã‚¹ã‚¯ãŒä½œæˆã•ã‚Œã¾ã™ã€‚
                </div>

                <div class="return-form">
                    <div class="form-row">
                        <div class="form-field">
                            <label class="field-label">è¿”å“SKU</label>
                            <select class="form-select" id="return-sku">
                                <option value="">-- é¸æŠã—ã¦ãã ã•ã„ --</option>
                                <option value="RS001">RS001 - RSã‚·ãƒªãƒ¼ã‚º500mL ãƒœãƒˆãƒ«-ä¹³ç™½ (å‡ºè·æ¸ˆ: 40)</option>
                                <option value="RS003">RS003 - RSã‚·ãƒªãƒ¼ã‚º500mL ä¸­æ “ (å‡ºè·æ¸ˆ: 50)</option>
                            </select>
                        </div>
                        <div class="form-field">
                            <label class="field-label">è¿”å“æ•°é‡</label>
                            <input type="number" class="form-input" id="return-qty" placeholder="ä¾‹: 5" min="1">
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-field">
                            <label class="field-label">è¿”å“ç†ç”±</label>
                            <select class="form-select" id="return-reason">
                                <option value="">-- é¸æŠã—ã¦ãã ã•ã„ --</option>
                                <option value="defect">å•†å“ä¸è‰¯</option>
                                <option value="wrong">èª¤é…é€</option>
                                <option value="customer">é¡§å®¢éƒ½åˆ</option>
                                <option value="damage">é…é€æ™‚ç ´æ</option>
                                <option value="exchange">äº¤æ›</option>
                                <option value="other">ãã®ä»–</option>
                            </select>
                        </div>
                        <div class="form-field">
                            <label class="field-label">è¿”å“æ—¥</label>
                            <input type="date" class="form-input" id="return-date" value="2025-11-18">
                        </div>
                    </div>

                    <div class="form-field">
                        <label class="field-label">ãƒ¡ãƒ¢ï¼ˆä»»æ„ï¼‰</label>
                        <textarea class="form-textarea" id="return-note" placeholder="è¿”å“ã«é–¢ã™ã‚‹è©³ç´°æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea>
                    </div>

                    <div style="text-align: right; margin-top: 12px;">
                        <button class="btn btn-success" onclick="registerReturn()">
                            âœ… è¿”å“ã‚’ç™»éŒ²
                        </button>
                    </div>
                </div>

                <!-- Existing Returns History -->
                <div style="margin-top: 20px;">
                    <div style="font-weight: 600; margin-bottom: 12px; color: #333; font-size: 14px;">
                        ğŸ“‹ è¿”å“å±¥æ­´
                    </div>

                    <!-- Return Record 1 -->
                    <div
                        style="padding: 12px; background: #fff3cd; border-left: 4px solid #e67e22; border-radius: 4px; margin-bottom: 12px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <div>
                                <strong>è¿”å“ID: RET-2025-001</strong>
                                <span class="delivery-status status-complete" style="margin-left: 8px;">å…¥åº«å®Œäº†</span>
                            </div>
                            <div style="font-size: 12px; color: #666;">2025-11-10</div>
                        </div>
                        <div
                            style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; font-size: 12px; color: #666;">
                            <div>
                                <div style="font-weight: 600; color: #333;">SKU</div>
                                <div>RS001</div>
                            </div>
                            <div>
                                <div style="font-weight: 600; color: #333;">æ•°é‡</div>
                                <div style="color: #e67e22; font-weight: 600;">10å€‹</div>
                            </div>
                            <div>
                                <div style="font-weight: 600; color: #333;">ç†ç”±</div>
                                <div>å•†å“ä¸è‰¯</div>
                            </div>
                        </div>
                        <div style="margin-top: 8px; font-size: 12px; color: #666;">
                            <strong>ãƒ¡ãƒ¢:</strong> å¤–è£…ã«å‚·ãŒã‚ã£ãŸãŸã‚è¿”å“ã€‚åœ¨åº«å¾©å…ƒæ¸ˆã¿ã€‚
                        </div>
                    </div>

                    <!-- Return Record 2 - Exchange (äº¤æ›) -->
                    <div
                        style="padding: 12px; background: #e3f2fd; border-left: 4px solid #3498db; border-radius: 4px; margin-bottom: 12px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <div style="display: flex; align-items: center; gap: 8px; flex-wrap: wrap;">
                                <strong>è¿”å“ID: RET-2025-002ï¼ˆäº¤æ›ï¼‰</strong>
                                <span class="delivery-status status-complete" style="margin-left: 4px;">å…¥åº«å®Œäº†</span>
                                <span class="delivery-status status-complete">å‡ºåº«å®Œäº†</span>
                            </div>
                            <div style="font-size: 12px; color: #666;">2025-11-12</div>
                        </div>
                        <div
                            style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; font-size: 12px; color: #666;">
                            <div>
                                <div style="font-weight: 600; color: #333;">SKU</div>
                                <div>RS003</div>
                            </div>
                            <div>
                                <div style="font-weight: 600; color: #333;">æ•°é‡</div>
                                <div style="color: #3498db; font-weight: 600;">8å€‹</div>
                            </div>
                            <div>
                                <div style="font-weight: 600; color: #333;">ç†ç”±</div>
                                <div style="color: #3498db; font-weight: 600;">äº¤æ›</div>
                            </div>
                        </div>
                        <div style="margin-top: 8px; font-size: 12px; color: #666;">
                            <strong>ãƒ¡ãƒ¢:</strong> ã‚µã‚¤ã‚ºé•ã„ã®ãŸã‚äº¤æ›å¯¾å¿œã€‚ä¸è‰¯å“8å€‹ã‚’å…¥åº«ã—ã€æ–°å“8å€‹ã‚’å‡ºåº«å®Œäº†ã€‚
                        </div>
                        <div
                            style="margin-top: 8px; padding: 8px; background: white; border-radius: 3px; font-size: 12px;">
                            <div style="display: flex; gap: 20px;">
                                <div>
                                    <span style="color: #666;">å…¥åº«:</span>
                                    <span style="font-weight: 600;">2025-11-12 å®Œäº†</span>
                                </div>
                                <div>
                                    <span style="color: #666;">å‡ºåº«:</span>
                                    <span style="font-weight: 600;">2025-11-13 å®Œäº†</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Return Record 3 -->
                    <div
                        style="padding: 12px; background: #fff3cd; border-left: 4px solid #e67e22; border-radius: 4px; margin-bottom: 12px;">
                        <div
                            style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                            <div>
                                <strong>è¿”å“ID: RET-2025-003</strong>
                                <span class="delivery-status status-wait" style="margin-left: 8px;">å…¥åº«å¾…ã¡</span>
                            </div>
                            <div style="font-size: 12px; color: #666;">2025-11-15</div>
                        </div>
                        <div
                            style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; font-size: 12px; color: #666;">
                            <div>
                                <div style="font-weight: 600; color: #333;">SKU</div>
                                <div>RS003</div>
                            </div>
                            <div>
                                <div style="font-weight: 600; color: #333;">æ•°é‡</div>
                                <div style="color: #e67e22; font-weight: 600;">5å€‹</div>
                            </div>
                            <div>
                                <div style="font-weight: 600; color: #333;">ç†ç”±</div>
                                <div>é¡§å®¢éƒ½åˆ</div>
                            </div>
                        </div>
                        <div style="margin-top: 8px; font-size: 12px; color: #666;">
                            <strong>ãƒ¡ãƒ¢:</strong> ã‚µã‚¤ã‚ºé•ã„ã®ãŸã‚è¿”å“ä¾é ¼ã€‚å…¥åº«ã‚¿ã‚¹ã‚¯ä½œæˆæ¸ˆã¿ã€‚
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <script src="auth.js"></script>
    <script>
        // Go back
        function goBack() {
            alert('æ³¨æ–‡ä¸€è¦§ã«æˆ»ã‚Šã¾ã™');
        }

        // Edit order
        function editOrder() {
            alert('æ³¨æ–‡ã‚’ç·¨é›†ãƒ¢ãƒ¼ãƒ‰ã«åˆ‡ã‚Šæ›¿ãˆã¾ã™');
        }

        // Ship product
        function shipProduct(sku, maxQty) {
            const input = document.getElementById('ship-' + sku.toLowerCase());
            const qty = parseInt(input.value);

            if (!qty || qty <= 0) {
                alert('âš ï¸ å‡ºè·æ•°é‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }

            if (qty > maxQty) {
                alert(`âš ï¸ å‡ºè·æ•°é‡ã¯æœªå‡ºè·æ•°é‡ (${maxQty}) ã‚’è¶…ãˆã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“`);
                return;
            }

            if (confirm(`å‡ºè·ä¾é ¼ã‚’ä½œæˆã—ã¾ã™ã‹?\n\nSKU: ${sku}\nå‡ºè·æ•°é‡: ${qty}\n\n` +
                `â€» å‡ºè·ã‚¿ã‚¹ã‚¯ãŒä½œæˆã•ã‚Œã€å€‰åº«ã‚¹ã‚¿ãƒƒãƒ•ã«é€šçŸ¥ã•ã‚Œã¾ã™`)) {
                alert(`âœ… å‡ºè·ä¾é ¼ã‚’ä½œæˆã—ã¾ã—ãŸ\n\nSKU: ${sku}\næ•°é‡: ${qty}\n\n` +
                    `å‡ºè·ã‚¿ã‚¹ã‚¯ãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚\nå€‰åº«ã‚¹ã‚¿ãƒƒãƒ•ãŒå‡¦ç†ã‚’é–‹å§‹ã—ã¾ã™ã€‚`);

                // Reload in real implementation
                setTimeout(() => {
                    location.reload();
                }, 1000);
            }
        }

        // Register return
        function registerReturn() {
            const sku = document.getElementById('return-sku').value;
            const qty = document.getElementById('return-qty').value;
            const reason = document.getElementById('return-reason').value;
            const date = document.getElementById('return-date').value;
            const note = document.getElementById('return-note').value;

            // Validation
            if (!sku) {
                alert('âš ï¸ è¿”å“SKUã‚’é¸æŠã—ã¦ãã ã•ã„');
                return;
            }
            if (!qty || qty <= 0) {
                alert('âš ï¸ è¿”å“æ•°é‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
                return;
            }
            if (!reason) {
                alert('âš ï¸ è¿”å“ç†ç”±ã‚’é¸æŠã—ã¦ãã ã•ã„');
                return;
            }

            const reasonText = {
                'defect': 'å•†å“ä¸è‰¯',
                'wrong': 'èª¤é…é€',
                'customer': 'é¡§å®¢éƒ½åˆ',
                'damage': 'é…é€æ™‚ç ´æ',
                'exchange': 'äº¤æ›',
                'other': 'ãã®ä»–'
            }[reason];

            const isExchange = reason === 'exchange';
            const taskText = isExchange
                ? 'å…¥åº«ã‚¿ã‚¹ã‚¯ã¨å‡ºåº«ã‚¿ã‚¹ã‚¯ãŒè‡ªå‹•ä½œæˆã•ã‚Œã¾ã™ã€‚\näº¤æ›å“ã®å‡ºè·ã¯å…¥åº«å®Œäº†å¾Œã«è¡Œã‚ã‚Œã¾ã™ã€‚'
                : 'å…¥åº«ã‚¿ã‚¹ã‚¯ãŒè‡ªå‹•ä½œæˆã•ã‚Œã¾ã™';

            if (confirm(`è¿”å“ã‚’ç™»éŒ²ã—ã¾ã™ã‹?\n\n` +
                `SKU: ${sku}\n` +
                `æ•°é‡: ${qty}\n` +
                `ç†ç”±: ${reasonText}${isExchange ? ' â€»äº¤æ›å¯¾å¿œ' : ''}\n` +
                `è¿”å“æ—¥: ${date}\n` +
                `ãƒ¡ãƒ¢: ${note || '(ãªã—)'}\n\n` +
                `â€» ${taskText}`)) {

                const successMsg = isExchange
                    ? `âœ… äº¤æ›è¿”å“ã‚’ç™»éŒ²ã—ã¾ã—ãŸ\n\n` +
                    `è¿”å“ID: RET-${Date.now()}\n` +
                    `SKU: ${sku}\n` +
                    `æ•°é‡: ${qty}\n\n` +
                    `å…¥åº«ã‚¿ã‚¹ã‚¯ã¨å‡ºåº«ã‚¿ã‚¹ã‚¯ãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚\n` +
                    `1. ä¸è‰¯å“ã®å…¥åº«å®Œäº†å¾Œ\n` +
                    `2. æ–°å“ã®å‡ºåº«ãŒè‡ªå‹•çš„ã«å‡¦ç†ã•ã‚Œã¾ã™`
                    : `âœ… è¿”å“ã‚’ç™»éŒ²ã—ã¾ã—ãŸ\n\n` +
                    `è¿”å“ID: RET-${Date.now()}\n` +
                    `SKU: ${sku}\n` +
                    `æ•°é‡: ${qty}\n\n` +
                    `å…¥åº«ã‚¿ã‚¹ã‚¯ãŒä½œæˆã•ã‚Œã¾ã—ãŸã€‚\nå®Œäº†å¾Œã€åœ¨åº«ãŒè‡ªå‹•çš„ã«æˆ»ã‚Šã¾ã™ã€‚`;

                alert(successMsg);

                // Clear form and reload
                document.getElementById('return-sku').value = '';
                document.getElementById('return-qty').value = '';
                document.getElementById('return-reason').value = '';
                document.getElementById('return-note').value = '';

                setTimeout(() => {
                    location.reload();
                }, 1000);
            }
        }
    </script>
</body>

</html>