<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è³‡æãƒã‚¹ã‚¿ - Kintone</title>
    
    <!-- Kintone Common Stylesheet -->
    <link rel="stylesheet" href="kintone-common-v2.css">
</head>
<body>
    <!-- Kintone Header -->
    <div class="kintone-header">
        <div class="app-icon-circle">ğŸ“¦</div>
        <div class="app-title-header">è³‡æãƒã‚¹ã‚¿</div>
    </div>

    <!-- Secondary Navigation -->
    <div class="secondary-nav">
        <div class="nav-icon">ğŸ </div>
        <span class="breadcrumb-text">ã‚¢ãƒ—ãƒª: è³‡æãƒã‚¹ã‚¿</span>
        <div class="nav-right">
            <div class="nav-icon">âš™ï¸</div>
            <div class="nav-icon">â“</div>
        </div>
    </div>

    <!-- App Description -->
    <div class="app-description">
        è³‡æãƒã‚¹ã‚¿ã‚¢ãƒ—ãƒªã¯ã€è£½å“è£½é€ ã«ä½¿ç”¨ã•ã‚Œã‚‹åŸæ–™ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è³‡æã€OEMè³‡æã‚’ç®¡ç†ã—ã¾ã™ã€‚
    </div>

    <!-- View Controls -->
    <div class="view-controls">
        <button class="view-button">
            <span class="view-icon">ğŸ“‹</span>
            <span class="view-text">å…¨è³‡æä¸€è¦§</span>
            <span class="dropdown-arrow">â–¼</span>
        </button>
        
        <button class="control-btn">
            <span class="control-btn-icon">ğŸ”</span>
        </button>
        
        <button class="control-btn">
            <span class="control-btn-icon">ğŸ“Š</span>
        </button>

        <div class="controls-right">
            <button class="icon-only-btn" onclick="addMaterial()">â•</button>
            <button class="icon-only-btn">âš™ï¸</button>
            <button class="icon-only-btn">â‹¯</button>
        </div>
    </div>

    <!-- Record Count Top -->
    <div class="record-count" id="topCount">1 - 15ï¼ˆ15ä»¶ä¸­ï¼‰</div>

    <!-- Data Table -->
    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>è³‡æID</th>
                    <th>è³‡æå</th>
                    <th>å•†å“å</th>
                    <th>å‹ç•ª</th>
                    <th>é‡é‡</th>
                    <th>ã‚µãƒ—ãƒ©ã‚¤ãƒ¤ãƒ¼</th>
                    <th>ç™ºæ³¨ç‚¹</th>
                    <th>è³¼è²·æ‹…å½“è€…</th>
                    <th>è³‡æåŒºåˆ†</th>
                    <th>æ“ä½œ</th>
                </tr>
            </thead>
            <tbody id="materialsTableBody">
                <!-- Data will be rendered here -->
            </tbody>
        </table>
    </div>

    <!-- Record Count Bottom -->
    <div class="bottom-count" id="bottomCount">1 - 15ï¼ˆ15ä»¶ä¸­ï¼‰</div>

    <script>
        // Sample materials data
        const materials = [
            {
                id: '00001',
                name: 'ãƒ©ã‚¤ã‚¹ã‚·ãƒªã‚«åŸæ–™',
                product: 'å…¨è£½å“å…±é€š',
                isCommon: true,
                modelNo: 'RM-SILI-001',
                weight: '1,000g/è¢‹',
                supplier: 'å±±ç”°å•†äº‹',
                reorderPoint: '500',
                purchaser: 'å±±ç”°å¤ªéƒ',
                category: 'raw',
                categoryName: 'åŸæ–™'
            },
            {
                id: '00002',
                name: 'ãƒ“ã‚¿ãƒŸãƒ³Cç²‰æœ«',
                product: 'å…¨è£½å“å…±é€š',
                isCommon: true,
                modelNo: 'VC-POWDER',
                weight: '100g/è¢‹',
                supplier: 'ä½è—¤ã‚±ãƒŸã‚«ãƒ«',
                reorderPoint: '300',
                purchaser: 'ä½è—¤èŠ±å­',
                category: 'raw',
                categoryName: 'åŸæ–™'
            },
            {
                id: '00003',
                name: 'ãƒ©ãƒ™ãƒ«',
                product: 'ã‚·ãƒªãƒƒã‚¯ã‚¹ 500mL',
                isCommon: false,
                modelNo: '',
                weight: '4.02g/æš',
                supplier: 'ä¸¸æ­£ç”£æ¥­',
                reorderPoint: '2,500',
                purchaser: 'å±±ç”°å¤ªéƒ',
                category: 'packaging',
                categoryName: 'ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸'
            },
            {
                id: '00004',
                name: 'ãƒ©ãƒ™ãƒ«',
                product: 'ã‚·ãƒªãƒƒã‚¯ã‚¹ 200mL',
                isCommon: false,
                modelNo: '',
                weight: '2.65g/æš',
                supplier: 'ä¸¸æ­£ç”£æ¥­',
                reorderPoint: '2,000',
                purchaser: 'ä½è—¤èŠ±å­',
                category: 'packaging',
                categoryName: 'ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸'
            },
            {
                id: '00005',
                name: 'åŒ–ç²§ç®±',
                product: 'ã‚·ãƒªãƒƒã‚¯ã‚¹ 200mL',
                isCommon: false,
                modelNo: 'BOX-SLX-200',
                weight: '',
                supplier: 'ä¸¸æ­£ç”£æ¥­',
                reorderPoint: '1,500',
                purchaser: 'å±±ç”°å¤ªéƒ',
                category: 'packaging',
                categoryName: 'ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸'
            },
            {
                id: '00006',
                name: 'ãƒœãƒˆãƒ«',
                product: 'SASA-LABO 50mL',
                isCommon: false,
                modelNo: 'NCC-180(HDPE)',
                weight: '',
                supplier: 'éˆ´æœ¨ãƒœãƒˆãƒ«',
                reorderPoint: '5,000',
                purchaser: 'ç”°ä¸­ä¸€éƒ',
                category: 'bottle',
                categoryName: 'ãƒœãƒˆãƒ«'
            },
            {
                id: '00007',
                name: 'ãƒ©ãƒ™ãƒ«ã‚·ãƒ¼ãƒ«',
                product: 'Dr\'s Power',
                isCommon: false,
                modelNo: '',
                weight: '',
                supplier: 'OEMè£½é€ ',
                reorderPoint: '10,000',
                purchaser: 'ä½è—¤èŠ±å­',
                category: 'oem',
                categoryName: 'OEMè³‡æ'
            },
            {
                id: '00008',
                name: 'ä¸­æ “',
                product: 'SASA-LABO 50mL',
                isCommon: false,
                modelNo: 'FLã‚­ãƒ£ãƒƒãƒ—ç”¨ä¸­æ “',
                weight: '1.22g/å€‹',
                supplier: 'éˆ´æœ¨ãƒœãƒˆãƒ«',
                reorderPoint: '5,000',
                purchaser: 'ç”°ä¸­ä¸€éƒ',
                category: 'cap',
                categoryName: 'ä¸­æ “'
            },
            {
                id: '00009',
                name: 'ã‚­ãƒ£ãƒƒãƒ—',
                product: 'SASA-LABO 50mL',
                isCommon: false,
                modelNo: 'CSã‚­ãƒ£ãƒƒãƒ—45S',
                weight: '',
                supplier: 'éˆ´æœ¨ãƒœãƒˆãƒ«',
                reorderPoint: '5,000',
                purchaser: 'å±±ç”°å¤ªéƒ',
                category: 'cap',
                categoryName: 'ã‚­ãƒ£ãƒƒãƒ—'
            },
            {
                id: '00010',
                name: 'ãƒ€ãƒ³ãƒœãƒ¼ãƒ«',
                product: 'kelso',
                isCommon: false,
                modelNo: '',
                weight: '',
                supplier: 'å±±ç”°å•†äº‹',
                reorderPoint: '100',
                purchaser: 'ä½è—¤èŠ±å­',
                category: 'packaging',
                categoryName: 'ãƒ€ãƒ³ãƒœãƒ¼ãƒ«'
            },
            {
                id: '00011',
                name: 'åº•æ¿',
                product: 'kelso',
                isCommon: false,
                modelNo: '',
                weight: '',
                supplier: 'å±±ç”°å•†äº‹',
                reorderPoint: '100',
                purchaser: 'å±±ç”°å¤ªéƒ',
                category: 'packaging',
                categoryName: 'åº•æ¿'
            },
            {
                id: '00012',
                name: 'ãƒ©ãƒ™ãƒ«',
                product: 'KOYOã‚±ã‚¤ç´ ',
                isCommon: false,
                modelNo: '',
                weight: '3.42g/æš',
                supplier: 'ä¸¸æ­£ç”£æ¥­',
                reorderPoint: '1,500',
                purchaser: 'ä½è—¤èŠ±å­',
                category: 'packaging',
                categoryName: 'ãƒ©ãƒ™ãƒ«'
            },
            {
                id: '00013',
                name: 'ã‚¢ãƒ«ãƒŸãƒœãƒˆãƒ«',
                product: 'å…¨è£½å“å…±é€š',
                isCommon: true,
                modelNo: 'AL-300ML',
                weight: '180g/æœ¬',
                supplier: 'å®¹å™¨ãƒ¡ãƒ¼ã‚«ãƒ¼B',
                reorderPoint: '1,000',
                purchaser: 'ç”°ä¸­ä¸€éƒ',
                category: 'bottle',
                categoryName: 'ãƒœãƒˆãƒ«'
            },
            {
                id: '00014',
                name: 'è¨ˆé‡ã‚«ãƒƒãƒ—',
                product: 'å…¨è£½å“å…±é€š',
                isCommon: true,
                modelNo: 'CAP-10ML-PPP',
                weight: '5g/å€‹',
                supplier: 'å®¹å™¨ãƒ¡ãƒ¼ã‚«ãƒ¼C',
                reorderPoint: '5,000',
                purchaser: 'ä½è—¤èŠ±å­',
                category: 'packaging',
                categoryName: 'å®¹å™¨'
            },
            {
                id: '00015',
                name: 'å¤©ç„¶ä¿æ¹¿æˆåˆ†"G"',
                product: 'å…¨è£½å“å…±é€š',
                isCommon: true,
                modelNo: 'GHY2514',
                weight: '1000g/kg',
                supplier: 'åŒ–å­¦å·¥æ¥­æ ªå¼ä¼šç¤¾',
                reorderPoint: '200',
                purchaser: 'å±±ç”°æ¬¡éƒ',
                category: 'raw',
                categoryName: 'åŸæ–™'
            }
        ];

        // Get category badge info
        function getCategoryBadge(category, categoryName) {
            const categoryMap = {
                'raw': 'status-active',
                'packaging': 'status-new',
                'bottle': 'status-pending',
                'cap': 'status-pending',
                'oem': 'status-completed'
            };
            
            return {
                class: categoryMap[category] || 'status-draft',
                text: categoryName
            };
        }

        // Render table
        function renderTable() {
            const tbody = document.getElementById('materialsTableBody');
            
            tbody.innerHTML = materials.map(material => {
                const categoryInfo = getCategoryBadge(material.category, material.categoryName);
                
                // Product link - only if not common
                const productDisplay = material.isCommon 
                    ? material.product 
                    : `<a href="#" class="record-link" onclick="viewProduct('${material.product}'); return false;">${material.product}</a>`;
                
                return `
                    <tr>
                        <td>
                            <a href="#" class="record-link" onclick="viewMaterial('${material.id}'); return false;">
                                ${material.id}
                            </a>
                        </td>
                        <td>
                            <a href="#" class="record-link" onclick="viewMaterialDetail('${material.id}'); return false;">
                                ${material.name}
                            </a>
                        </td>
                        <td>${productDisplay}</td>
                        <td>${material.modelNo}</td>
                        <td>${material.weight}</td>
                        <td>
                            <a href="#" class="record-link" onclick="viewSupplier('${material.supplier}'); return false;">
                                ${material.supplier}
                            </a>
                        </td>
                        <td>${material.reorderPoint}</td>
                        <td>
                            <a href="#" class="record-link" onclick="viewPurchaser('${material.purchaser}'); return false;">
                                ${material.purchaser}
                            </a>
                        </td>
                        <td>
                            <span class="status-badge ${categoryInfo.class}">
                                ${categoryInfo.text}
                            </span>
                        </td>
                        <td>
                            <div class="row-actions">
                                <button class="action-icon edit" 
                                        title="ç·¨é›†" 
                                        onclick="editMaterial('${material.id}')">
                                </button>
                                <button class="action-icon delete" 
                                        title="å‰Šé™¤" 
                                        onclick="deleteMaterial('${material.id}')">
                                </button>
                            </div>
                        </td>
                    </tr>
                `;
            }).join('');

            updateRecordCount();
        }

        // Update record count
        function updateRecordCount() {
            const count = materials.length;
            const countText = `1 - ${count}ï¼ˆ${count}ä»¶ä¸­ï¼‰`;
            document.getElementById('topCount').textContent = countText;
            document.getElementById('bottomCount').textContent = countText;
        }

        // View material details
        function viewMaterial(id) {
            const material = materials.find(m => m.id === id);
            if (material) {
                alert(`è³‡æè©³ç´°:\n\n` +
                      `è³‡æID: ${material.id}\n` +
                      `è³‡æå: ${material.name}\n` +
                      `å•†å“å: ${material.product}\n` +
                      `å‹ç•ª: ${material.modelNo}\n` +
                      `é‡é‡: ${material.weight}\n` +
                      `ã‚µãƒ—ãƒ©ã‚¤ãƒ¤ãƒ¼: ${material.supplier}\n` +
                      `ç™ºæ³¨ç‚¹: ${material.reorderPoint}\n` +
                      `è³¼è²·æ‹…å½“è€…: ${material.purchaser}\n` +
                      `è³‡æåŒºåˆ†: ${material.categoryName}`);
            }
        }

        // View material name detail
        function viewMaterialDetail(id) {
            const material = materials.find(m => m.id === id);
            if (material) {
                alert(`è³‡æãƒã‚¹ã‚¿è©³ç´°:\n\n` +
                      `è³‡æID: ${material.id}\n` +
                      `è³‡æå: ${material.name}\n` +
                      `è³‡æåŒºåˆ†: ${material.categoryName}\n\n` +
                      `â€» è³‡æãƒã‚¹ã‚¿è©³ç´°ç”»é¢ã‚’é–‹ãã¾ã™`);
            }
        }

        // View product details
        function viewProduct(productName) {
            alert(`å•†å“è©³ç´°:\n\n` +
                  `å•†å“å: ${productName}\n\n` +
                  `â€» å•†å“ãƒã‚¹ã‚¿è©³ç´°ç”»é¢ã‚’é–‹ãã¾ã™`);
        }

        // View supplier details
        function viewSupplier(supplierName) {
            const relatedMaterials = materials.filter(m => m.supplier === supplierName);
            alert(`ã‚µãƒ—ãƒ©ã‚¤ãƒ¤ãƒ¼è©³ç´°:\n\n` +
                  `ã‚µãƒ—ãƒ©ã‚¤ãƒ¤ãƒ¼å: ${supplierName}\n` +
                  `å–æ‰±è³‡ææ•°: ${relatedMaterials.length}ä»¶\n\n` +
                  `â€» ã‚µãƒ—ãƒ©ã‚¤ãƒ¤ãƒ¼ãƒã‚¹ã‚¿è©³ç´°ç”»é¢ã‚’é–‹ãã¾ã™`);
        }

        // View purchaser details
        function viewPurchaser(purchaserName) {
            const relatedMaterials = materials.filter(m => m.purchaser === purchaserName);
            alert(`è³¼è²·æ‹…å½“è€…è©³ç´°:\n\n` +
                  `æ‹…å½“è€…å: ${purchaserName}\n` +
                  `æ‹…å½“è³‡ææ•°: ${relatedMaterials.length}ä»¶\n\n` +
                  `â€» æ‹…å½“è€…è©³ç´°ç”»é¢ã‚’é–‹ãã¾ã™`);
        }

        // Edit material
        function editMaterial(id) {
            const material = materials.find(m => m.id === id);
            if (material) {
                alert(`è³‡æã‚’ç·¨é›†:\n\n` +
                      `è³‡æID: ${material.id}\n` +
                      `è³‡æå: ${material.name}\n\n` +
                      `â€» å®Ÿéš›ã®ç·¨é›†ç”»é¢ã‚’é–‹ãã¾ã™`);
            }
        }

        // Delete material
        function deleteMaterial(id) {
            const material = materials.find(m => m.id === id);
            if (material) {
                if (confirm(`ã“ã®è³‡æã‚’å‰Šé™¤ã—ã¦ã‚‚ã‚ˆã‚ã—ã„ã§ã™ã‹ï¼Ÿ\n\n` +
                           `è³‡æID: ${material.id}\n` +
                           `è³‡æå: ${material.name}`)) {
                    const index = materials.findIndex(m => m.id === id);
                    if (index > -1) {
                        materials.splice(index, 1);
                        renderTable();
                        alert('è³‡æã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚');
                    }
                }
            }
        }

        // Add new material
        function addMaterial() {
            alert('æ–°è¦è³‡æè¿½åŠ ç”»é¢ã‚’é–‹ãã¾ã™ã€‚\n\n' +
                  'â€» å®Ÿè£…æ™‚ã¯è³‡æç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚');
        }

        // Initial render
        renderTable();

        // Log info
        console.log('è³‡æãƒã‚¹ã‚¿ã‚¢ãƒ—ãƒª - ãƒ­ãƒ¼ãƒ‰å®Œäº†');
        console.log(`è³‡ææ•°: ${materials.length}ä»¶`);
    </script>
</body>
</html>
